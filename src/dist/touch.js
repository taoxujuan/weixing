!function(t,e){"use strict";t.Touch=function(i){var n={t:["up","right","down","left"],tt:300,tp:150,dtp:222,td:50,lt:-1,ltt:null,s:null,fn:[],e:null,o:null,p1:{x:0,y:0,t:0},p2:{x:0,y:0,t:0},distance:function(){return Math.round(Math.sqrt(Math.pow(this.p1.x-this.p2.x,2)+Math.pow(this.p1.y-this.p2.y,2)))},angle:function(){var t=Math.abs(this.p2.x-this.p1.x);return Math.round(57.3*Math.acos(t/Math.sqrt(Math.pow(t,2)+Math.pow(this.p2.y-this.p1.y,2))))},reset:function(){var t=this.e.touches.item(0);this.p1.x=t.clientX,this.p1.y=t.clientY,this.p1.t=this.e.timeStamp,this.p2.x=this.p1.x,this.p2.y=this.p1.y,this.p2.t=this.p1.t},update:function(){var t=this.e.touches.item(0);this.p2.t=this.e.timeStamp,this.p2.x=t.clientX,this.p2.y=t.clientY},direction:function(){return this.angle()>45?this.p1.y<this.p2.y?2:0:this.p1.x<this.p2.x?1:3},time:function(){return this.p2.t-this.p1.t},on:function(t,e){return this.fn[t]=e,this},swipe:function(){var t="swipe"+this.t[this.direction()],e=new s(t);this.o.dispatchEvent(e),"function"==typeof this.fn[t]&&this.fn[t](this.o)},pinch:function(){var t,e="pinch",i={scale:this.e.scale,style:this.s},n={bubbles:!1,cancelable:!1,detail:i};this.e.scale<1?(t=new s("pinchout",n),t.scale=this.e.scale,t.style=i.style,this.o.dispatchEvent(t),"function"==typeof this.fn[e+"out"]&&this.fn[e+"out"](this.o,i.scale,i.style)):this.e.scale>1&&(t=new s("pinchin",n),t.scale=this.e.scale,t.style=i.style,this.o.dispatchEvent(t),"function"==typeof this.fn[e+"in"]&&this.fn[e+"in"](this.o,this.e.scale,this.s))},tap:function(){var t=new s("tap");this.o.dispatchEvent(t),"function"==typeof this.fn.tap&&this.fn.tap(this.o)},dbltap:function(){var t=new s("dbltap");this.o.dispatchEvent(t),"function"==typeof this.fn.dbltap&&this.fn.dbltap(this.o)}},s=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n};return s.prototype=t.CustomEvent.prototype,t.CustomEvent=s,n.o="object"!=typeof i?e.getElementById(i):i,null!==n.o&&(n.o.addEventListener("touchstart",function(t){t.preventDefault(),n.e=t,n.reset()},!1),n.o.addEventListener("touchmove",function(t){t.preventDefault(),n.e=t,n.update()},!1),n.o.addEventListener("touchend",function(e){e.preventDefault(),n.e=e,n.p2.t=e.timeStamp;var i,s=n.distance(),h=n.time();s>n.td&&h<n.tt?n.swipe():s<5&&h<n.tp&&(n.lt<0&&(n.lt=e.timeStamp),i=e.timeStamp-n.lt,n.lt=e.timeStamp,i>10&&i<n.dtp?(t.clearTimeout(n.ltt),n.dbltap()):n.ltt=t.setTimeout(function(){n.tap()},n.dtp))},!1),n.o.addEventListener("gesturestart",function(e){e.preventDefault(),n.e=e;var i,s,h=[],p=t.getComputedStyle(n.o,null);for(i=0,s=p.length;i<s;i++)h[p[i]]=p.getPropertyValue(p[i]);n.s=h},!1),n.o.addEventListener("gesturechange",function(t){t.preventDefault(),n.e=t,n.pinch()},!1),n.o.addEventListener("gestureend",function(t){t.preventDefault(),n.p1.t=t.timeStamp-(n.tt+1),n.p2.t=t.timeStamp},!1)),n}}(window,document);